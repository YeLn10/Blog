先来看[HNOI2016]序列，这似乎是一个经典问题，询问一个区间里所有子区间的最小值之和，如果是整个区间，是好做的，对于每个求它作为最小值的贡献就可以（再次复习一下，推广做法可以考虑依靠原来的做法，比如删去一个数的贡献也可以这么求，确实好！）

但是这题不行，因为截断的话对于每个的影响都很不同，很难找到一个方法完成。那就需要另辟蹊径，那就是先求一次前缀和，再求一次前缀和的前缀和来取出答案，但是最小值一定可以前缀吗？本题可以！

设$f_i$为以$i$为终点的所有区间的和，可以发现$f_i=f_