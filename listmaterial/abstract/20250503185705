题意是先融合两个相邻的点，然后给剩下的点配对，求配对的两个点的距离之和。

第一个问题是，偶数个节点怎么配对？

首先，要直观地去想重心。因为重心每个子树大小小于$\frac{n-1}{2}$，这样子一定可以保证有一个方案是子树内没有相同颜色。然后这样子答案是所有点到重心距离。

那为什么这样最优？

因为如果子树内有相同颜色的话，对于这一对以外的点，他们的贡献是到重心距离。而这一对点的贡献小于到重心距离(他们的lca深度大了)，这样答案劣。

那为什么选重心？

保证可以构造出这样的方案，其他